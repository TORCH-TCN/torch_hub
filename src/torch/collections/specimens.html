{% extends "base.html" %} 
{% block title %}Specimens{% endblock %} 
{% block content %}

<div class="main-container" x-data="specimens({{collection.id}})">
    <div class="main-container-header">
        <div class="left">
            <p class="xsmall">All / {{collection.code}}</p>
        </div>
        <div class="right">
            <div class="list-sort">
                <p class="xsmall">View list</p> 
                <img src="../static//images/down-filled-triangular-arrow.png" alt="Down arrow" >
            </div>
            <div class="list-sort">
                <p class="xsmall">Sort</p> 
                <img src="../static//images/down-filled-triangular-arrow.png" alt="Down arrow" >
            </div>
        </div>
    </div>
    <div class="main-container-body p-4">
        <div class="row">
            <!-- <div>
                <div class="add-collection">
                    <img src="../static//images/plus.png" alt="Plus icon" >
                    <p>New specimen</p>
                </div>
            </div> -->
            <template x-for="s in specimens">
                <div>
                    <div class="collection-card" :alt="s.name" x-on:click="openPage(s.id)">
                        <img :src="s.upload_path" :alt="s.name" x-show="s.flow_run_state != 'failed'">
                        <img src="../static/images/error.png" :alt="s.name" x-show="s.flow_run_state == 'failed'">
                        <div class="card-body">
                            <h5 x-text="s.name"></h5>
                            <p x-text="s.create_date" x-show="!s.progress && s.flow_run_state != 'failed'"></p>
                            <div class="progress" x-show="s.progress && s.flow_run_state != 'failed'">
                                <div class="progress-bar bg-success" role="progressbar" :style="s.style" :aria-valuenow="s.progress" aria-valuemin="0" aria-valuemax="100"></div>
                                <!-- <div class="progress-bar bg-danger" role="progressbar" style="width: 20%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
                                <div class="progress-bar bg-warning" role="progressbar" style="width: 20%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div> -->
                            </div>
                            <p class="text-danger" x-show="s.flow_run_state == 'failed'">Error</p>
                        </div>
                    </div>
                </div>
            </template>
            
        </div>

    </div>

</div>

{% endblock %}